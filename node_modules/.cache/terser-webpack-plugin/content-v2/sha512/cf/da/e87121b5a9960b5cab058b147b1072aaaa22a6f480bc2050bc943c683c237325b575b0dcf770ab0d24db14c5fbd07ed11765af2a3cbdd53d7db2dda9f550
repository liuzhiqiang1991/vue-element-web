{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-59833636\"],{1592:function(t,e,i){\"use strict\";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i(\"el-form\",{ref:\"postForm\",attrs:{model:t.postForm}},[i(\"sticky\",{attrs:{\"class-name\":\"sub-navbar\"}},[t.isEdit?t._e():i(\"el-button\",{on:{click:t.showGuide}},[t._v(\"显示帮助\")]),i(\"el-button\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:t.loading,expression:\"loading\"}],staticStyle:{\"margin-left\":\"5 0px\"},attrs:{type:\"success\"},on:{click:t.submitForm}},[t._v(t._s(t.isEdit?\"编辑用户\":\"新增用户\"))])],1),i(\"div\",{staticClass:\"detail-container\"},[i(\"el-row\",[i(\"Warning\"),i(\"el-col\",{attrs:{span:24}}),i(\"el-col\",{attrs:{span:24}},[i(\"el-row\",[i(\"el-col\",{attrs:{span:12}},[i(\"el-form-item\",{attrs:{prop:\"username\",label:\"用户：\",\"label-width\":t.labelWidth}},[i(\"el-input\",{attrs:{placeholder:\"用户\"},model:{value:t.postForm.username,callback:function(e){t.$set(t.postForm,\"username\",e)},expression:\"postForm.username\"}})],1)],1),i(\"el-col\",{attrs:{span:12}},[i(\"el-form-item\",{attrs:{prop:\"password\",label:\"密码：\",\"label-width\":t.labelWidth}},[i(\"el-input\",{attrs:{placeholder:\"密码\"},model:{value:t.postForm.password,callback:function(e){t.$set(t.postForm,\"password\",e)},expression:\"postForm.password\"}})],1)],1)],1),i(\"el-row\",[i(\"el-col\",{attrs:{span:12}},[i(\"el-form-item\",{attrs:{prop:\"role\",label:\"角色：\",\"label-width\":t.labelWidth}},[i(\"el-input\",{attrs:{placeholder:\"角色\"},model:{value:t.postForm.role,callback:function(e){t.$set(t.postForm,\"role\",e)},expression:\"postForm.role\"}})],1)],1),i(\"el-col\",{attrs:{span:12}},[i(\"el-form-item\",{attrs:{prop:\"nickname\",label:\"nickname：\",\"label-width\":t.labelWidth}},[i(\"el-input\",{attrs:{placeholder:\"nickname\"},model:{value:t.postForm.nickname,callback:function(e){t.$set(t.postForm,\"nickname\",e)},expression:\"postForm.nickname\"}})],1)],1)],1),i(\"el-row\",[i(\"el-col\",{attrs:{span:12}},[i(\"el-form-item\",{attrs:{prop:\"avatar\",label:\"avatar：\",\"label-width\":t.labelWidth}},[i(\"el-input\",{attrs:{placeholder:\"avatar\"},model:{value:t.postForm.avatar,callback:function(e){t.$set(t.postForm,\"avatar\",e)},expression:\"postForm.avatar\"}})],1)],1)],1)],1)],1)],1)],1)},s=[],n=i(\"5530\"),o=i(\"b804\"),l=i(\"c24f\"),r={components:{Sticky:o[\"a\"]},props:{isEdit:Boolean},data:function(){return{loading:!1,postForm:{username:\"username\",password:\"password\",role:\"role\",nickname:\"nickname\",avatar:\"avatar\"},labelWidth:\"120px\"}},created:function(){if(this.isEdit){var t=this.$route.params.username;this.getUserData(t)}},methods:{getUserData:function(t){var e=this;Object(l[\"d\"])(t).then((function(t){e.setData(t.data)}))},setData:function(t){var e=t.id,i=t.username,a=t.password,s=t.role,o=t.nickname,l=t.avatar;this.postForm=Object(n[\"a\"])(Object(n[\"a\"])({},this.postForm),{},{id:e,username:i,password:a,role:s,nickname:o,avatar:l})},showGuide:function(){alert(\"显示帮助\")},submitForm:function(){var t=this;this.isEdit?this.$store.dispatch(\"user/update\",this.postForm).then((function(e){t.$notify({title:\"操作成功\",message:e.data,type:\"success\",duration:2e3}),t.loading=!1})).catch((function(e){t.$notify({title:\"编辑用户失败\",message:e,type:\"fail\",duration:2e3}),t.loading=!1})):this.$store.dispatch(\"user/add\",this.postForm).then((function(e){t.$notify({title:\"操作成功\",message:e.data,type:\"success\",duration:2e3}),t.loading=!1})).catch((function(e){t.$notify({title:\"新增用户失败\",message:e,type:\"fail\",duration:2e3}),t.loading=!1}))}}},c=r,d=(i(\"90aa\"),i(\"2877\")),p=Object(d[\"a\"])(c,a,s,!1,null,\"1306f194\",null);e[\"a\"]=p.exports},\"90aa\":function(t,e,i){\"use strict\";i(\"a188\")},a188:function(t,e,i){},b804:function(t,e,i){\"use strict\";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i(\"div\",{style:{height:t.height+\"px\",zIndex:t.zIndex}},[i(\"div\",{class:t.className,style:{top:t.isSticky?t.stickyTop+\"px\":\"\",zIndex:t.zIndex,position:t.position,width:t.width,height:t.height+\"px\"}},[t._t(\"default\",[i(\"div\",[t._v(\"sticky\")])])],2)])},s=[],n=(i(\"a9e3\"),{name:\"Sticky\",props:{stickyTop:{type:Number,default:0},zIndex:{type:Number,default:1},className:{type:String,default:\"\"}},data:function(){return{active:!1,position:\"\",width:void 0,height:void 0,isSticky:!1}},mounted:function(){this.height=this.$el.getBoundingClientRect().height,window.addEventListener(\"scroll\",this.handleScroll),window.addEventListener(\"resize\",this.handleResize)},activated:function(){this.handleScroll()},destroyed:function(){window.removeEventListener(\"scroll\",this.handleScroll),window.removeEventListener(\"resize\",this.handleResize)},methods:{sticky:function(){this.active||(this.position=\"fixed\",this.active=!0,this.width=this.width+\"px\",this.isSticky=!0)},handleReset:function(){this.active&&this.reset()},reset:function(){this.position=\"\",this.width=\"auto\",this.active=!1,this.isSticky=!1},handleScroll:function(){var t=this.$el.getBoundingClientRect().width;this.width=t||\"auto\";var e=this.$el.getBoundingClientRect().top;e<this.stickyTop?this.sticky():this.handleReset()},handleResize:function(){this.isSticky&&(this.width=this.$el.getBoundingClientRect().width+\"px\")}}}),o=n,l=i(\"2877\"),r=Object(l[\"a\"])(o,a,s,!1,null,null,null);e[\"a\"]=r.exports},d344:function(t,e,i){\"use strict\";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i(\"detail\",{attrs:{\"is-edit\":\"\"}})},s=[],n=i(\"1592\"),o={components:{Detail:n[\"a\"]}},l=o,r=i(\"2877\"),c=Object(r[\"a\"])(l,a,s,!1,null,\"1af4eee8\",null);e[\"default\"]=c.exports}}]);","extractedComments":[]}