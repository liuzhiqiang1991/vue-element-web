{"remainingRequest":"/Users/root1/Desktop/学习/vue-element-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/root1/Desktop/学习/vue-element-web/src/views/phone_code/list.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/root1/Desktop/学习/vue-element-web/src/views/phone_code/list.vue","mtime":1621597103000},{"path":"/Users/root1/Desktop/学习/vue-element-web/node_modules/cache-loader/dist/cjs.js","mtime":1621475682000},{"path":"/Users/root1/Desktop/学习/vue-element-web/node_modules/babel-loader/lib/index.js","mtime":1621475680000},{"path":"/Users/root1/Desktop/学习/vue-element-web/node_modules/cache-loader/dist/cjs.js","mtime":1621475682000},{"path":"/Users/root1/Desktop/学习/vue-element-web/node_modules/vue-loader/lib/index.js","mtime":1621475707000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgUGFnaW5hdGlvbiBmcm9tICcuLi8uLi9jb21wb25lbnRzL1BhZ2luYXRpb24vaW5kZXgnCmltcG9ydCB3YXZlcyBmcm9tICcuLi8uLi9kaXJlY3RpdmUvd2F2ZXMvd2F2ZXMnCgppbXBvcnQgeyBsaXN0Q29kZSwgZGVsZXRlQXJlYUNvZGUgfSBmcm9tICcuLi8uLi9hcGkvcGhvbmVfY29kZScKCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7IFBhZ2luYXRpb24gfSwKICBkaXJlY3RpdmVzOiB7IHdhdmVzIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGxpc3RMb2FkaW5nOiBmYWxzZSwKICAgICAgdGFibGVLZXk6IDAsCiAgICAgIGxpc3Q6IFtdLAogICAgICB0b3RhbDogMCwKCiAgICAgIGxpc3RRdWVyeToge30KCiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5wYXJzZVF1ZXJ5KCkKICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldExpc3QoKQogIH0sCiAgbWV0aG9kczogewoKICAgIHBhcnNlUXVlcnkoKSB7CiAgICAgIGNvbnN0IGxpc3RRdWVyeSA9IHsKICAgICAgICBwYWdlOiAxLAogICAgICAgIHBhZ2VTaXplOiAxMCwKICAgICAgICBzb3J0OiAnK2lkJwogICAgICB9CiAgICAgIHRoaXMubGlzdFF1ZXJ5ID0geyAuLi5saXN0UXVlcnksIC4uLnRoaXMubGlzdFF1ZXJ5IH0KICAgIH0sCgogICAgZ2V0TGlzdCgpIHsKICAgICAgdGhpcy5saXN0TG9hZGluZyA9IHRydWUKICAgICAgbGlzdENvZGUodGhpcy5saXN0UXVlcnkpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIC8vIGFsZXJ0KHJlc3BvbnNlKQogICAgICAgIGNvbnN0IHsgbGlzdCwgY291bnQgfSA9IHJlc3BvbnNlLmRhdGEKICAgICAgICB0aGlzLmxpc3QgPSBsaXN0CiAgICAgICAgdGhpcy50b3RhbCA9IGNvdW50CiAgICAgICAgdGhpcy5saXN0TG9hZGluZyA9IGZhbHNlCiAgICAgIH0pCiAgICB9LAogICAgaGFuZGxlRmlsdGVyKCkgewogICAgICAvLyBjb25zb2xlLmxvZygnaGFuZGxlJywgdGhpcy5saXN0UXVlcnkpCiAgICAgIC8vIGFsZXJ0KHRoaXMubGlzdFF1ZXJ5KQogICAgICB0aGlzLmdldExpc3QodGhpcy5saXN0UXVlcnkpCiAgICB9LAogICAgaGFuZGxlQ3JlYXRlKCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL3Bob25lX2NvZGUvY3JlYXRlJykKICAgIH0sCiAgICBoYW5kbGVVcGRhdGUocm93KSB7CiAgICAgIC8vIGFsZXJ0KHJvdy5jb2RlKQogICAgICB0aGlzLiRyb3V0ZXIucHVzaChgL3Bob25lX2NvZGUvZWRpdC8ke3Jvdy5jb2RlfWApCiAgICB9LAogICAgaGFuZGxlRGVsZXRlKHJvdykgewogICAgICB0aGlzLiRjb25maXJtKCfmraTmk43kvZzlsIbmsLjkuYXliKDpmaQnLCAn5o+Q56S6JywgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgfSkudGhlbigoKSA9PiB7CiAgICAgICAgLy8g6YCJ56Gu5a6a5ZCO77yM5omN5Lya5omn6KGMCiAgICAgICAgZGVsZXRlQXJlYUNvZGUocm93LmNvZGUpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgdGhpcy4kbm90aWZ5KHsKICAgICAgICAgICAgdGl0bGU6ICfmiJDlip8nLAogICAgICAgICAgICBtZXNzYWdlOiByZXNwb25zZS5tc2cgfHwgJ+WIoOmZpOaIkOWKnycsCiAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgICAgZHVyYXRpb246IDIwMDAKICAgICAgICAgIH0pCiAgICAgICAgICB0aGlzLmhhbmRsZUZpbHRlcigpCiAgICAgICAgfSkKICAgICAgfSkKICAgIH0KICB9Cn0K"},{"version":3,"sources":["list.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkFA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"list.vue","sourceRoot":"src/views/phone_code","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <div class=\"filter-container\">\n\n      <el-input\n        v-model=\"listQuery.province\"\n        placeholder=\"省\"\n        style=\"width: 200px\"\n        class=\"filter-item\"\n        clearable\n        @keyup.enter.native=\"handleFilter\"\n        @clear=\"handleFilter\"\n        @blur=\"handleFilter\"\n      />\n\n      <el-button\n        v-waves\n        class=\"filter-item\"\n        type=\"primary\"\n        icon=\"el-icon-search\"\n        style=\"margin-left: 10px\"\n      >查询\n      </el-button>\n\n      <el-button\n        class=\"filter-item\"\n        type=\"primary\"\n        icon=\"el-icon-edit\"\n        style=\"margin-left: 5px\"\n        @click=\"handleCreate\"\n      >\n        新增\n      </el-button>\n\n    </div>\n\n    <el-table\n      :key=\"tableKey\"\n      v-loading=\"listLoading\"\n      :data=\"list\"\n      border\n      fit\n      highlight-current-row\n      style=\"width: 100%\"\n    >\n\n      <el-table-column\n        label=\"ID\"\n        prop=\"id\"\n        sortable=\"custom\"\n        align=\"cneter\"\n        width=\"80\"\n      />\n      <el-table-column label=\"省\" prop=\"province\" width=\"270\" align=\"center\" />\n      <el-table-column label=\"市\" prop=\"city\" width=\"270\" align=\"center\" />\n      <el-table-column label=\"编码\" prop=\"code\" width=\"270\" align=\"center\" />\n      <el-table-column\n        label=\"操作\"\n        width=\"120\"\n        align=\"center\"\n        fixed=\"right\"\n      >\n        <template slot-scope=\"{ row }\">\n          <el-button type=\"text\" icon=\"el-icon-edit\" @click=\"handleUpdate(row)\" />\n          <el-button type=\"text\" icon=\"el-icon-delete\" style=\"color:#f56c6c\" @click=\"handleDelete(row)\" />\n\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <pagination\n      v-show=\"total > 0\"\n      :total=\"total\"\n      :page.sync=\"listQuery.page\"\n      :limit.sync=\"listQuery.pageSize\"\n      @pagination=\"getList\"\n    />\n  </div>\n</template>\n\n<script>\n\nimport Pagination from '../../components/Pagination/index'\nimport waves from '../../directive/waves/waves'\n\nimport { listCode, deleteAreaCode } from '../../api/phone_code'\n\nexport default {\n  components: { Pagination },\n  directives: { waves },\n  data() {\n    return {\n      listLoading: false,\n      tableKey: 0,\n      list: [],\n      total: 0,\n\n      listQuery: {}\n\n    }\n  },\n  created() {\n    this.parseQuery()\n  },\n  mounted() {\n    this.getList()\n  },\n  methods: {\n\n    parseQuery() {\n      const listQuery = {\n        page: 1,\n        pageSize: 10,\n        sort: '+id'\n      }\n      this.listQuery = { ...listQuery, ...this.listQuery }\n    },\n\n    getList() {\n      this.listLoading = true\n      listCode(this.listQuery).then(response => {\n        // alert(response)\n        const { list, count } = response.data\n        this.list = list\n        this.total = count\n        this.listLoading = false\n      })\n    },\n    handleFilter() {\n      // console.log('handle', this.listQuery)\n      // alert(this.listQuery)\n      this.getList(this.listQuery)\n    },\n    handleCreate() {\n      this.$router.push('/phone_code/create')\n    },\n    handleUpdate(row) {\n      // alert(row.code)\n      this.$router.push(`/phone_code/edit/${row.code}`)\n    },\n    handleDelete(row) {\n      this.$confirm('此操作将永久删除', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        // 选确定后，才会执行\n        deleteAreaCode(row.code).then(response => {\n          this.$notify({\n            title: '成功',\n            message: response.msg || '删除成功',\n            type: 'success',\n            duration: 2000\n          })\n          this.handleFilter()\n        })\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n</style>\n"]}]}