{"remainingRequest":"/Users/root1/Desktop/学习/vue-element-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/root1/Desktop/学习/vue-element-web/src/views/area_code/components/Detail.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/root1/Desktop/学习/vue-element-web/src/views/area_code/components/Detail.vue","mtime":1621437233000},{"path":"/Users/root1/Desktop/学习/vue-element-web/node_modules/cache-loader/dist/cjs.js","mtime":1621391372000},{"path":"/Users/root1/Desktop/学习/vue-element-web/node_modules/babel-loader/lib/index.js","mtime":1621391371000},{"path":"/Users/root1/Desktop/学习/vue-element-web/node_modules/cache-loader/dist/cjs.js","mtime":1621391372000},{"path":"/Users/root1/Desktop/学习/vue-element-web/node_modules/vue-loader/lib/index.js","mtime":1621391379000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBTdGlja3kgZnJvbSAnLi4vLi4vLi4vY29tcG9uZW50cy9TdGlja3kvaW5kZXgnCmltcG9ydCBXYXJuaW5nIGZyb20gJy4vV2FybmluZycKaW1wb3J0IHsgZ2V0Q29kZSB9IGZyb20gJy4uLy4uLy4uL2FwaS9hcmVhX2NvZGUnCgpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogeyBTdGlja3kgfSwKICBwcm9wczogewoKICAgIGlzRWRpdDogQm9vbGVhbgogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CgogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgcG9zdEZvcm06IHsKICAgICAgICBwcm92aW5jZTogJ3Byb3ZpbmNlJywKICAgICAgICBjaXR5OiAnY2l0eScsCiAgICAgICAgY29kZTogJ2NvZGUnCiAgICAgIH0sCiAgICAgIGxhYmVsV2lkdGg6ICcxMjBweCcKICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICAvL2FsZXJ0KHRoaXMuJHJvdXRlLnBhcmFtcykKICAgIC8vY29uc29sZS5sb2codGhpcy4kcm91dGUucGFyYW1zKQogICAgY29uc3QgY2l0eSA9IHRoaXMuJHJvdXRlLnBhcmFtcy51c2VybmFtZQogICAgLy9hbGVydChjaXR5KQogICAgdGhpcy5nZXRDb2RlRGF0YShjaXR5KQogIH0sCiAgbWV0aG9kczogewogICAgZ2V0Q29kZURhdGEoY2l0eSkgewogICAgICBnZXRDb2RlKGNpdHkpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIHRoaXMuc2V0RGF0YShyZXNwb25zZS5kYXRhKQogICAgICB9KQogICAgfSwKICAgIHNldERhdGEoZGF0YSkgewogICAgICBjb25zdCB7CiAgICAgICAgaWQsCiAgICAgICAgcHJvdmluY2UsCiAgICAgICAgY2l0eSwKICAgICAgICBjb2RlCgogICAgICB9ID0gZGF0YQogICAgICB0aGlzLnBvc3RGb3JtID0gewogICAgICAgIC4uLnRoaXMucG9zdEZvcm0sCiAgICAgICAgaWQsCiAgICAgICAgcHJvdmluY2UsCiAgICAgICAgY2l0eSwKICAgICAgICBjb2RlCiAgICAgIH0KICAgIH0sCiAgICBzaG93R3VpZGUoKSB7CiAgICAgIGFsZXJ0KCfmmL7npLrluK7liqknKQogICAgfSwKICAgIHN1Ym1pdEZvcm0oKSB7CgogICAgICBpZiAoIXRoaXMuaXNFZGl0KSB7CiAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2FyZWFfY29kZS9hZGQnLCB0aGlzLnBvc3RGb3JtKQogICAgICAgICAgLnRoZW4oKG1zZykgPT4gewogICAgICAgICAgICB0aGlzLiRub3RpZnkoewogICAgICAgICAgICAgIHRpdGxlOiAn5pON5L2c5oiQ5YqfJywKICAgICAgICAgICAgICBtZXNzYWdlOiBtc2cuZGF0YSwKICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgZHVyYXRpb246IDIwMDAKICAgICAgICAgICAgfSkKICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2UKICAgICAgICAgIH0pLmNhdGNoKChlKSA9PiB7CiAgICAgICAgICAgIHRoaXMuJG5vdGlmeSh7CiAgICAgICAgICAgICAgdGl0bGU6ICfmlrDlop7nvJbnoIHlpLHotKUnLAogICAgICAgICAgICAgIG1lc3NhZ2U6IGUsCiAgICAgICAgICAgICAgdHlwZTogJ2ZhaWwnLAogICAgICAgICAgICAgIGR1cmF0aW9uOiAyMDAwCiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC8vIGFsZXJ0KCd1bmZpbmlzaCcpCiAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlCiAgICAgICAgICB9KQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdhcmVhX2NvZGUvdXBkYXRlJywgdGhpcy5wb3N0Rm9ybSkKICAgICAgICAgIC50aGVuKChtc2cpID0+IHsKICAgICAgICAgICAgdGhpcy4kbm90aWZ5KHsKICAgICAgICAgICAgICB0aXRsZTogJ+aTjeS9nOaIkOWKnycsCiAgICAgICAgICAgICAgbWVzc2FnZTogbXNnLmRhdGEsCiAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgICAgICAgIGR1cmF0aW9uOiAyMDAwCiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlCiAgICAgICAgICB9KS5jYXRjaCgoZSkgPT4gewogICAgICAgICAgICB0aGlzLiRub3RpZnkoewogICAgICAgICAgICAgIHRpdGxlOiAn57yW6L6R57yW56CB5aSx6LSlJywKICAgICAgICAgICAgICBtZXNzYWdlOiBlLAogICAgICAgICAgICAgIHR5cGU6ICdmYWlsJywKICAgICAgICAgICAgICBkdXJhdGlvbjogMjAwMAogICAgICAgICAgICB9KQogICAgICAgICAgICAvLyBhbGVydCgndW5maW5pc2gnKQogICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZQogICAgICAgICAgfSkKICAgICAgfQogICAgfQogIH0KfQo="},{"version":3,"sources":["Detail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsDA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Detail.vue","sourceRoot":"src/views/area_code/components","sourcesContent":["<template>\n  <el-form ref=\"postForm\" :model=\"postForm\">\n\n    <sticky :class-name=\"'sub-navbar'\">\n      <el-button v-if=\"!isEdit\" @click=\"showGuide\">显示帮助</el-button>\n      <el-button\n        v-loading=\"loading\"\n        type=\"success\"\n        style=\"margin-left: 5 0px\"\n        @click=\"submitForm\"\n      >{{ isEdit ? '编辑' : '新增' }}</el-button>\n    </sticky>\n    <div class=\"detail-container\">\n      <el-row>\n        <el-col :span=\"24\">\n          <el-row>\n            <el-col :span=\"12\">\n              <el-form-item prop=\"province\" label=\"省：\" :label-width=\"labelWidth\">\n                <el-input\n                  v-model=\"postForm.province\"\n                  placeholder=\"省\"\n                />\n              </el-form-item>\n            </el-col>\n            <el-col :span=\"12\">\n              <el-form-item prop=\"city\" label=\"市：\" :label-width=\"labelWidth\">\n                <el-input\n                  v-model=\"postForm.city\"\n                  placeholder=\"市\"\n                />\n              </el-form-item>\n            </el-col>\n\n          </el-row>\n\n          <el-row>\n            <el-col :span=\"12\">\n              <el-form-item prop=\"code\" label=\"编码：\" :label-width=\"labelWidth\">\n                <el-input\n                  v-model=\"postForm.code\"\n                  placeholder=\"编码\"\n                />\n              </el-form-item>\n            </el-col>\n\n          </el-row>\n\n        </el-col>\n      </el-row>\n    </div>\n  </el-form>\n</template>\n\n<script>\nimport Sticky from '../../../components/Sticky/index'\nimport Warning from './Warning'\nimport { getCode } from '../../../api/area_code'\n\nexport default {\n  components: { Sticky },\n  props: {\n\n    isEdit: Boolean\n  },\n  data() {\n    return {\n\n      loading: false,\n      postForm: {\n        province: 'province',\n        city: 'city',\n        code: 'code'\n      },\n      labelWidth: '120px'\n    }\n  },\n  created() {\n    //alert(this.$route.params)\n    //console.log(this.$route.params)\n    const city = this.$route.params.username\n    //alert(city)\n    this.getCodeData(city)\n  },\n  methods: {\n    getCodeData(city) {\n      getCode(city).then(response => {\n        this.setData(response.data)\n      })\n    },\n    setData(data) {\n      const {\n        id,\n        province,\n        city,\n        code\n\n      } = data\n      this.postForm = {\n        ...this.postForm,\n        id,\n        province,\n        city,\n        code\n      }\n    },\n    showGuide() {\n      alert('显示帮助')\n    },\n    submitForm() {\n\n      if (!this.isEdit) {\n        this.$store.dispatch('area_code/add', this.postForm)\n          .then((msg) => {\n            this.$notify({\n              title: '操作成功',\n              message: msg.data,\n              type: 'success',\n              duration: 2000\n            })\n            this.loading = false\n          }).catch((e) => {\n            this.$notify({\n              title: '新增编码失败',\n              message: e,\n              type: 'fail',\n              duration: 2000\n            })\n            // alert('unfinish')\n            this.loading = false\n          })\n      } else {\n        this.$store.dispatch('area_code/update', this.postForm)\n          .then((msg) => {\n            this.$notify({\n              title: '操作成功',\n              message: msg.data,\n              type: 'success',\n              duration: 2000\n            })\n            this.loading = false\n          }).catch((e) => {\n            this.$notify({\n              title: '编辑编码失败',\n              message: e,\n              type: 'fail',\n              duration: 2000\n            })\n            // alert('unfinish')\n            this.loading = false\n          })\n      }\n    }\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n  .detail-container {\n    padding:40px 50px 20px;\n    .preview-img {\n      width: 200px;\n      height: 270px;\n    }\n  }\n</style>\n"]}]}