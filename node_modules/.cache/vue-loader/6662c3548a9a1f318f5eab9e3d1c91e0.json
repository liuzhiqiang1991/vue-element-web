{"remainingRequest":"/Users/root1/Desktop/学习/vue-element-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/root1/Desktop/学习/vue-element-web/src/views/user/components/Detail.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/root1/Desktop/学习/vue-element-web/src/views/user/components/Detail.vue","mtime":1621390495000},{"path":"/Users/root1/Desktop/学习/vue-element-web/node_modules/cache-loader/dist/cjs.js","mtime":1621340188000},{"path":"/Users/root1/Desktop/学习/vue-element-web/node_modules/babel-loader/lib/index.js","mtime":1621340187000},{"path":"/Users/root1/Desktop/学习/vue-element-web/node_modules/cache-loader/dist/cjs.js","mtime":1621340188000},{"path":"/Users/root1/Desktop/学习/vue-element-web/node_modules/vue-loader/lib/index.js","mtime":1621340196000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgU3RpY2t5IGZyb20gJy4uLy4uLy4uL2NvbXBvbmVudHMvU3RpY2t5L2luZGV4JwovLyBpbXBvcnQgV2FybmluZyBmcm9tICcuL1dhcm5pbmcnCmltcG9ydCB7IGdldFVzZXIgfSBmcm9tICcuLi8uLi8uLi9hcGkvdXNlcicKCgpjb25zdCBkZWZhdWx0Rm9ybSA9IHsKICB1c2VybmFtZTogJycsCiAgcGFzc3dvcmQ6ICcnLAogIHJvbGU6ICcnLAogIG5pY2tuYW1lOiAnJywKICBhdmF0YXI6ICcnCn0KCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7IFN0aWNreSB9LAogIHByb3BzOiB7CgogICAgaXNFZGl0OiBCb29sZWFuCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKCiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICBwb3N0Rm9ybTogewogICAgICAgIHVzZXJuYW1lOiAndXNlcm5hbWUnLAogICAgICAgIHBhc3N3b3JkOiAncGFzc3dvcmQnLAogICAgICAgIHJvbGU6ICdyb2xlJywKICAgICAgICBuaWNrbmFtZTogJ25pY2tuYW1lJywKICAgICAgICBhdmF0YXI6ICdhdmF0YXInCgogICAgICB9LAogICAgICBsYWJlbFdpZHRoOiAnMTIwcHgnCiAgICB9CiAgfSwKCiAgY3JlYXRlZCgpIHsKICAgIGNvbnN0IGZpbGVOYW1lID0gdGhpcy4kcm91dGUucGFyYW1zLnVzZXJuYW1lCiAgICBjb25zb2xlLmxvZyhmaWxlTmFtZSkKICAgIHRoaXMuZ2V0VXNlckRhdGEoZmlsZU5hbWUpCiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRVc2VyRGF0YSh1c2VybmFtZSkgewogICAgICBnZXRVc2VyKHVzZXJuYW1lKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAvL2FsZXJ0KHJlc3BvbnNlKQogICAgICAgIHRoaXMuc2V0RGF0YShyZXNwb25zZS5kYXRhKQogICAgICB9KQogICAgfSwKICAgIHNldERhdGEoZGF0YSkgewoKICAgICAgY29uc3QgewogICAgICAgIGlkLAogICAgICAgIHVzZXJuYW1lLAogICAgICAgIHBhc3N3b3JkLAogICAgICAgIHJvbGUsCiAgICAgICAgbmlja25hbWUsCiAgICAgICAgYXZhdGFyCiAgICAgIH0gPSBkYXRhCiAgICAgIHRoaXMucG9zdEZvcm0gPSB7CiAgICAgICAgLi4udGhpcy5wb3N0Rm9ybSwKICAgICAgICBpZCwKICAgICAgICB1c2VybmFtZSwKICAgICAgICBwYXNzd29yZCwKICAgICAgICByb2xlLAogICAgICAgIG5pY2tuYW1lLAogICAgICAgIGF2YXRhcgogICAgICB9CiAgICB9LAogICAgc2hvd0d1aWRlKCkgewogICAgICBhbGVydCgn5pi+56S65biu5YqpJykKICAgIH0sCiAgICBzdWJtaXRGb3JtKCkgewogICAgICAvLyB0aGlzLmxvYWRpbmcgPSB0cnVlCiAgICAgIC8vIGFsZXJ0KCfmj5DkuqTooajljZUnKQogICAgICAvLyB0aGlzLmxvYWRpbmcgPSBmYWxzZQogICAgICAgLy9hbGVydCh0aGlzLnBvc3RGb3JtLnVzZXJuYW1lICsgJyAnICsgdGhpcy5wb3N0Rm9ybS5wYXNzd29yZCkKCiAgICAgIC8vYWxlcnQodGhpcy5pc0VkaXQpCiAgICAgIGlmKCF0aGlzLmlzRWRpdCkgewoKICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCd1c2VyL2FkZCcsIHRoaXMucG9zdEZvcm0pCiAgICAgICAgICAgIC50aGVuKChtc2cpID0+IHsKICAgICAgICAgICAgICAvLyBhbGVydChtc2cpCiAgICAgICAgICAgICAgdGhpcy4kbm90aWZ5KHsKICAgICAgICAgICAgICAgIHRpdGxlOiAn5pON5L2c5oiQ5YqfJywKICAgICAgICAgICAgICAgIG1lc3NhZ2U6IG1zZy5kYXRhLAogICAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgICAgICAgICAgZHVyYXRpb246IDIwMDAKICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlCiAgICAgICAgICAgIH0pLmNhdGNoKChlKSA9PiB7CiAgICAgICAgICAgICAgdGhpcy4kbm90aWZ5KHsKICAgICAgICAgICAgICAgIHRpdGxlOiAn5paw5aKe55So5oi35aSx6LSlJywKICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGUsCiAgICAgICAgICAgICAgICB0eXBlOiAnZmFpbCcsCiAgICAgICAgICAgICAgICBkdXJhdGlvbjogMjAwMAogICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgLy8gYWxlcnQoJ3VuZmluaXNoJykKICAgICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZQogICAgICAgICAgICB9KQogICAgICB9IGVsc2UgewogICAgICAgICAgLy9hbGVydCh0aGlzLnBvc3RGb3JtLnVzZXJuYW1lKQogICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3VzZXIvdXBkYXRlJywgdGhpcy5wb3N0Rm9ybSkKICAgICAgICAgICAgLnRoZW4oKG1zZykgPT4gewogICAgICAgICAgICAgIHRoaXMuJG5vdGlmeSh7CiAgICAgICAgICAgICAgICB0aXRsZTogJ+aTjeS9nOaIkOWKnycsCiAgICAgICAgICAgICAgICBtZXNzYWdlOiBtc2cuZGF0YSwKICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAyMDAwCiAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZQogICAgICAgICAgICB9KS5jYXRjaCgoZSkgPT4gewogICAgICAgICAgICAgIHRoaXMuJG5vdGlmeSh7CiAgICAgICAgICAgICAgICB0aXRsZTogJ+e8lui+keeUqOaIt+Wksei0pScsCiAgICAgICAgICAgICAgICBtZXNzYWdlOiBlLAogICAgICAgICAgICAgICAgdHlwZTogJ2ZhaWwnLAogICAgICAgICAgICAgICAgZHVyYXRpb246IDIwMDAKICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgIC8vIGFsZXJ0KCd1bmZpbmlzaCcpCiAgICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2UKICAgICAgICAgICAgfSkKICAgICAgfQoKICAgIH0KICB9Cn0K"},{"version":3,"sources":["Detail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+EA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"Detail.vue","sourceRoot":"src/views/user/components","sourcesContent":["<template>\n  <el-form ref=\"postForm\" :model=\"postForm\">\n    <sticky :class-name=\"'sub-navbar'\">\n      <el-button v-if=\"!isEdit\" @click=\"showGuide\">显示帮助</el-button>\n      <el-button\n        v-loading=\"loading\"\n        type=\"success\"\n        style=\"margin-left: 5 0px\"\n        @click=\"submitForm\"\n      >{{ isEdit ? '编辑用户' : '新增用户' }}</el-button>\n    </sticky>\n\n    <div class=\"detail-container\">\n      <el-row>\n        <Warning />\n        <el-col :span=\"24\">\n          <!-- >上传控件的具体样式 ------- 重点<-->\n\n        </el-col>\n        <el-col :span=\"24\">\n\n          <el-row>\n            <el-col :span=\"12\">\n              <el-form-item prop=\"username\" label=\"用户：\" :label-width=\"labelWidth\">\n                <el-input\n                  v-model=\"postForm.username\"\n                  placeholder=\"用户\"\n                />\n              </el-form-item>\n            </el-col>\n            <el-col :span=\"12\">\n              <el-form-item prop=\"password\" label=\"密码：\" :label-width=\"labelWidth\">\n                <el-input\n                  v-model=\"postForm.password\"\n                  placeholder=\"密码\"\n                />\n              </el-form-item>\n            </el-col>\n\n          </el-row>\n\n          <el-row>\n            <el-col :span=\"12\">\n              <el-form-item prop=\"role\" label=\"角色：\" :label-width=\"labelWidth\">\n                <el-input\n                  v-model=\"postForm.role\"\n                  placeholder=\"角色\"\n                />\n              </el-form-item>\n            </el-col>\n            <el-col :span=\"12\">\n              <el-form-item prop=\"nickname\" label=\"nickname：\" :label-width=\"labelWidth\">\n                <el-input\n                  v-model=\"postForm.nickname\"\n                  placeholder=\"nickname\"\n                />\n              </el-form-item>\n            </el-col>\n          </el-row>\n\n          <el-row>\n            <el-col :span=\"12\">\n              <el-form-item prop=\"avatar\" label=\"avatar：\" :label-width=\"labelWidth\">\n                <el-input\n                  v-model=\"postForm.avatar\"\n                  placeholder=\"avatar\"\n                />\n              </el-form-item>\n            </el-col>\n          </el-row>\n\n        </el-col>\n      </el-row>\n    </div>\n  </el-form>\n</template>\n\n<script>\n\nimport Sticky from '../../../components/Sticky/index'\n// import Warning from './Warning'\nimport { getUser } from '../../../api/user'\n\n\nconst defaultForm = {\n  username: '',\n  password: '',\n  role: '',\n  nickname: '',\n  avatar: ''\n}\n\nexport default {\n  components: { Sticky },\n  props: {\n\n    isEdit: Boolean\n  },\n  data() {\n    return {\n\n      loading: false,\n      postForm: {\n        username: 'username',\n        password: 'password',\n        role: 'role',\n        nickname: 'nickname',\n        avatar: 'avatar'\n\n      },\n      labelWidth: '120px'\n    }\n  },\n\n  created() {\n    const fileName = this.$route.params.username\n    console.log(fileName)\n    this.getUserData(fileName)\n  },\n  methods: {\n    getUserData(username) {\n      getUser(username).then(response => {\n        //alert(response)\n        this.setData(response.data)\n      })\n    },\n    setData(data) {\n\n      const {\n        id,\n        username,\n        password,\n        role,\n        nickname,\n        avatar\n      } = data\n      this.postForm = {\n        ...this.postForm,\n        id,\n        username,\n        password,\n        role,\n        nickname,\n        avatar\n      }\n    },\n    showGuide() {\n      alert('显示帮助')\n    },\n    submitForm() {\n      // this.loading = true\n      // alert('提交表单')\n      // this.loading = false\n       //alert(this.postForm.username + ' ' + this.postForm.password)\n\n      //alert(this.isEdit)\n      if(!this.isEdit) {\n\n          this.$store.dispatch('user/add', this.postForm)\n            .then((msg) => {\n              // alert(msg)\n              this.$notify({\n                title: '操作成功',\n                message: msg.data,\n                type: 'success',\n                duration: 2000\n              })\n              this.loading = false\n            }).catch((e) => {\n              this.$notify({\n                title: '新增用户失败',\n                message: e,\n                type: 'fail',\n                duration: 2000\n              })\n              // alert('unfinish')\n              this.loading = false\n            })\n      } else {\n          //alert(this.postForm.username)\n          this.$store.dispatch('user/update', this.postForm)\n            .then((msg) => {\n              this.$notify({\n                title: '操作成功',\n                message: msg.data,\n                type: 'success',\n                duration: 2000\n              })\n              this.loading = false\n            }).catch((e) => {\n              this.$notify({\n                title: '编辑用户失败',\n                message: e,\n                type: 'fail',\n                duration: 2000\n              })\n              // alert('unfinish')\n              this.loading = false\n            })\n      }\n\n    }\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n  .detail-container {\n    padding:40px 50px 20px;\n    .preview-img {\n      width: 200px;\n      height: 270px;\n    }\n  }\n</style>\n"]}]}