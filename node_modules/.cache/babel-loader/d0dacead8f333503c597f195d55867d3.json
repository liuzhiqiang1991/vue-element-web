{"remainingRequest":"/Users/root1/Desktop/学习/vue-element-web/node_modules/babel-loader/lib/index.js!/Users/root1/Desktop/学习/vue-element-web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/root1/Desktop/学习/vue-element-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/root1/Desktop/学习/vue-element-web/src/views/book/components/Detail.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/root1/Desktop/学习/vue-element-web/src/views/book/components/Detail.vue","mtime":1621390495000},{"path":"/Users/root1/Desktop/学习/vue-element-web/node_modules/cache-loader/dist/cjs.js","mtime":1621340188000},{"path":"/Users/root1/Desktop/学习/vue-element-web/node_modules/babel-loader/lib/index.js","mtime":1621340187000},{"path":"/Users/root1/Desktop/学习/vue-element-web/node_modules/cache-loader/dist/cjs.js","mtime":1621340188000},{"path":"/Users/root1/Desktop/学习/vue-element-web/node_modules/vue-loader/lib/index.js","mtime":1621340196000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL3Jvb3QxL0Rlc2t0b3AvXHU1QjY2XHU0RTYwL3Z1ZS1lbGVtZW50LXdlYi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IFN0aWNreSBmcm9tICcuLi8uLi8uLi9jb21wb25lbnRzL1N0aWNreS9pbmRleCc7CmltcG9ydCBXYXJuaW5nIGZyb20gJy4vV2FybmluZyc7CmltcG9ydCBFYm9va1VwbG9hZCBmcm9tICcuLi8uLi8uLi9jb21wb25lbnRzL0Vib29rVXBsb2FkJzsKaW1wb3J0IE1kSW5wdXQgZnJvbSAnLi4vLi4vLi4vY29tcG9uZW50cy9NRGlucHV0JzsKaW1wb3J0IHsgY3JlYXRlQm9vaywgZ2V0Qm9vaywgdXBkYXRlQm9vayB9IGZyb20gJy4uLy4uLy4uL2FwaS9ib29rJzsKdmFyIGRlZmF1bHRGb3JtID0gewogIHRpdGxlOiAnJywKICBhdXRob3I6ICcnLAogIGxhbmd1dGFnZTogJycsCiAgcHVibGlzaGVyOiAnJywKICByb290RmlsZTogJycsCiAgY292ZXI6ICcnLAogIHVybDogJycsCiAgb3JpZ2luYWxOYW1lOiAnJywKICBmaWxlTmFtZTogJycsCiAgY292ZXJQYXRoOiAnJywKICBmaWxlUGF0aDogJycsCiAgdW56aXBQYXRoOiAnJwp9OyAvLyDmmKDlsIQKCnZhciBmaWVsZHMgPSB7CiAgdGl0bGU6ICfmoIfpopgnLAogIGF1dGhvcjogJ+S9nOiAhScsCiAgcHVibGlzaGVyOiAn5Ye654mI56S+JywKICBsYW5ndWFnZTogJ+ivreiogCcKfTsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIFN0aWNreTogU3RpY2t5LAogICAgV2FybmluZzogV2FybmluZywKICAgIEVib29rVXBsb2FkOiBFYm9va1VwbG9hZCwKICAgIE1kSW5wdXQ6IE1kSW5wdXQKICB9LAogIHByb3BzOiB7CiAgICBpc0VkaXQ6IEJvb2xlYW4KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICAvLyDmoKHpqozop4TliJkKICAgIHZhciB2YWxpZGF0ZVJlcXVpcmUgPSBmdW5jdGlvbiB2YWxpZGF0ZVJlcXVpcmUocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSB7CiAgICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDApIHsKICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoZmllbGRzW3J1bGUuZmllbGRdICsgJ+W/hemhu+Whq+WGmScpKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjYWxsYmFjaygpOwogICAgICB9CiAgICB9OwoKICAgIHJldHVybiB7CiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICBwb3N0Rm9ybTogewogICAgICAgIHN0YXR1czogJ2RyYWZ0JwogICAgICB9LAogICAgICBmaWxlTGlzdDogW10sCiAgICAgIGxhYmVsV2lkdGg6ICcxMjBweCcsCiAgICAgIGNvbnRlbnRzVHJlZTogW10sCiAgICAgIC8vIOagoemqjOinhOWImQogICAgICBydWxlczogewogICAgICAgIHRpdGxlOiBbewogICAgICAgICAgdmFsaWRhdG9yOiB2YWxpZGF0ZVJlcXVpcmUKICAgICAgICB9XSwKICAgICAgICBhdXRob3I6IFt7CiAgICAgICAgICB2YWxpZGF0b3I6IHZhbGlkYXRlUmVxdWlyZQogICAgICAgIH1dLAogICAgICAgIGxhbmd1YWdlOiBbewogICAgICAgICAgdmFsaWRhdG9yOiB2YWxpZGF0ZVJlcXVpcmUKICAgICAgICB9XSwKICAgICAgICBwdWJsaXNoZXI6IFt7CiAgICAgICAgICB2YWxpZGF0b3I6IHZhbGlkYXRlUmVxdWlyZQogICAgICAgIH1dCiAgICAgIH0KICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgaWYgKHRoaXMuaXNFZGl0KSB7CiAgICAgIHZhciBmaWxlTmFtZSA9IHRoaXMuJHJvdXRlLnBhcmFtcy5maWxlTmFtZTsKICAgICAgY29uc29sZS5sb2coZmlsZU5hbWUpOwogICAgICB0aGlzLmdldEJvb2tEYXRhKGZpbGVOYW1lKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGdldEJvb2tEYXRhOiBmdW5jdGlvbiBnZXRCb29rRGF0YShmaWxlTmFtZSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgZ2V0Qm9vayhmaWxlTmFtZSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpcy5zZXREYXRhKHJlc3BvbnNlLmRhdGEpOwogICAgICB9KTsKICAgIH0sCiAgICBzZXREZWZhdWx0OiBmdW5jdGlvbiBzZXREZWZhdWx0KCkgewogICAgICAvLyDnva7nqboKICAgICAgdGhpcy5wb3N0Rm9ybSA9IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRGb3JtKTsKICAgICAgdGhpcy5jb250ZW50c1RyZWUgPSBbXTsKICAgICAgdGhpcy5maWxlTGlzdCA9IFtdOwogICAgICB0aGlzLiRyZWZzLnBvc3RGb3JtLnJlc2V0RmllbGRzKCk7CiAgICB9LAogICAgb25Db250ZW50Q2xpY2s6IGZ1bmN0aW9uIG9uQ29udGVudENsaWNrKGRhdGEpIHsKICAgICAgLy8gYWxlcnQoZGF0YSkKICAgICAgY29uc29sZS5sb2coZGF0YSk7CgogICAgICBpZiAoZGF0YS50ZXh0KSB7CiAgICAgICAgd2luZG93Lm9wZW4oZGF0YS50ZXh0KTsKICAgICAgfQogICAgfSwKICAgIHNldERhdGE6IGZ1bmN0aW9uIHNldERhdGEoZGF0YSwgY29udGVudHNUcmVlKSB7CiAgICAgIC8vIGFsZXJ0KGRhdGEuY29udGVudHNUcmVlKQogICAgICB2YXIgdGl0bGUgPSBkYXRhLnRpdGxlLAogICAgICAgICAgYXV0aG9yID0gZGF0YS5hdXRob3IsCiAgICAgICAgICBsYW5ndWFnZSA9IGRhdGEubGFuZ3VhZ2UsCiAgICAgICAgICBwdWJsaXNoZXIgPSBkYXRhLnB1Ymxpc2hlciwKICAgICAgICAgIHJvb3RGaWxlID0gZGF0YS5yb290RmlsZSwKICAgICAgICAgIGNvdmVyID0gZGF0YS5jb3ZlciwKICAgICAgICAgIHVybCA9IGRhdGEudXJsLAogICAgICAgICAgb3JpZ2luYWxOYW1lID0gZGF0YS5vcmlnaW5hbE5hbWUsCiAgICAgICAgICBjb250ZW50cyA9IGRhdGEuY29udGVudHMsCiAgICAgICAgICBmaWxlTmFtZSA9IGRhdGEuZmlsZU5hbWUsCiAgICAgICAgICBjb3ZlclBhdGggPSBkYXRhLmNvdmVyUGF0aCwKICAgICAgICAgIGZpbGVQYXRoID0gZGF0YS5maWxlUGF0aCwKICAgICAgICAgIHVuemlwUGF0aCA9IGRhdGEudW56aXBQYXRoOyAvLyBhbGVydChvcmlnaW5hbE5hbWUpCgogICAgICB0aGlzLnBvc3RGb3JtID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCB0aGlzLnBvc3RGb3JtKSwge30sIHsKICAgICAgICB0aXRsZTogdGl0bGUsCiAgICAgICAgYXV0aG9yOiBhdXRob3IsCiAgICAgICAgbGFuZ3VhZ2U6IGxhbmd1YWdlLAogICAgICAgIHB1Ymxpc2hlcjogcHVibGlzaGVyLAogICAgICAgIHJvb3RGaWxlOiByb290RmlsZSwKICAgICAgICBjb3ZlcjogY292ZXIsCiAgICAgICAgdXJsOiB1cmwsCiAgICAgICAgb3JpZ2luYWxOYW1lOiBvcmlnaW5hbE5hbWUsCiAgICAgICAgY29udGVudHM6IGNvbnRlbnRzLAogICAgICAgIGZpbGVOYW1lOiBmaWxlTmFtZSwKICAgICAgICBjb3ZlclBhdGg6IGNvdmVyUGF0aCwKICAgICAgICBmaWxlUGF0aDogZmlsZVBhdGgsCiAgICAgICAgdW56aXBQYXRoOiB1bnppcFBhdGgKICAgICAgfSk7IC8vIGNvbnNvbGUubG9nKCd0aXRsZScsIHRpdGxlKQoKICAgICAgdGhpcy5jb250ZW50c1RyZWUgPSBkYXRhLmNvbnRlbnRzVHJlZTsKICAgICAgdGhpcy5maWxlTGlzdCA9IFt7CiAgICAgICAgbmFtZTogb3JpZ2luYWxOYW1lLAogICAgICAgIHVybDogdXJsCiAgICAgIH1dOwogICAgfSwKICAgIG9uVXBsb2FkU3VjY2VzczogZnVuY3Rpb24gb25VcGxvYWRTdWNjZXNzKGRhdGEsIGNvbnRlbnRzVHJlZSkgewogICAgICBjb25zb2xlLmxvZygnZGF0YScsIGRhdGEpOwogICAgICBjb25zb2xlLmxvZygnZGF0YScsIGRhdGEucmVzcG9uc2UuZGF0YSk7IC8vIGFsZXJ0KGNvbnRlbnRzVHJlZSkKCiAgICAgIHRoaXMuc2V0RGF0YShkYXRhLnJlc3BvbnNlLmRhdGEpOwogICAgfSwKICAgIG9uVXBsb2FkUmVtb3ZlOiBmdW5jdGlvbiBvblVwbG9hZFJlbW92ZSgpIHsKICAgICAgdGhpcy5zZXREZWZhdWx0KCk7CiAgICB9LAogICAgc2hvd0d1aWRlOiBmdW5jdGlvbiBzaG93R3VpZGUoKSB7CiAgICAgIGNvbnNvbGUubG9nKCdzaG93IGd1aWRlIC4uLicpOyAvLyBhbGVydCgnYScpCiAgICB9LAoKICAgIC8qIGVzbGludC1kaXNhYmxlICovCiAgICBzdWJtaXRGb3JtOiBmdW5jdGlvbiBzdWJtaXRGb3JtKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHZhciBvblN1Y2Nlc3MgPSBmdW5jdGlvbiBvblN1Y2Nlc3MocmVzcG9uc2UpIHsKICAgICAgICB2YXIgbXNnID0gcmVzcG9uc2UubXNnOwoKICAgICAgICBfdGhpczIuJG5vdGlmeSh7CiAgICAgICAgICB0aXRsZTogJ+aTjeS9nOaIkOWKnycsCiAgICAgICAgICBtZXNzYWdlOiBtc2csCiAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICBkdXJhdGlvbjogMjAwMAogICAgICAgIH0pOwoKICAgICAgICBfdGhpczIubG9hZGluZyA9IGZhbHNlOwogICAgICB9OwoKICAgICAgaWYgKCF0aGlzLmxvYWRpbmcpIHsKICAgICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICAgIHRoaXMuJHJlZnMucG9zdEZvcm0udmFsaWRhdGUoZnVuY3Rpb24gKHZhbGlkLCBmaWVsZHMpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKHZhbGlkLCBmaWVsZHMpOwoKICAgICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgICAvL+agoemqjOmAmui/h++8jOaPkOS6pOihqOWNlQogICAgICAgICAgICAvL+ihqOWNlemhue+8jOa1heaLt+i0nQogICAgICAgICAgICB2YXIgYm9vayA9IE9iamVjdC5hc3NpZ24oe30sIF90aGlzMi5wb3N0Rm9ybSk7IC8vZGVsZXRlIGJvb2suY29udGVudHMKCiAgICAgICAgICAgIGRlbGV0ZSBib29rLmNvbnRlbnRzVHJlZTsgLy9hbGVydCh0aGlzLmlzRWRpdCkKCiAgICAgICAgICAgIGlmICghX3RoaXMyLmlzRWRpdCkgewogICAgICAgICAgICAgIGNyZWF0ZUJvb2soYm9vaykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgIG9uU3VjY2VzcyhyZXNwb25zZSk7CiAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgX3RoaXMyLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICB9KTsgLy90aGlzLnNldERlZmF1bHQoKQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHVwZGF0ZUJvb2soYm9vaykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgIG9uU3VjY2VzcyhyZXNwb25zZSk7CiAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgX3RoaXMyLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSBmaWVsZHNbT2JqZWN0LmtleXMoZmllbGRzKVswXV1bMF0ubWVzc2FnZTsgLy/ojrflj5bplJnor6/kv6Hmga8KCiAgICAgICAgICAgIF90aGlzMi4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgbWVzc2FnZTogbWVzc2FnZSwKICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InCiAgICAgICAgICAgIH0pOyAvL+WJjeerr+WxleekugoKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzMi5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgfSwgMTAwMCk7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"sources":["Detail.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <el-form ref=\"postForm\" :model=\"postForm\" :rules=\"rules\">\n    <sticky :class-name=\"'sub-navbar'\">\n      <el-button v-if=\"!isEdit\" @click=\"showGuide\">显示帮助</el-button>\n      <el-button\n        v-loading=\"loading\"\n        type=\"success\"\n        style=\"margin-left: 5 0px\"\n        @click=\"submitForm\"\n      >{{ isEdit ? '编辑电子书' : '新增电子书' }}</el-button>\n    </sticky>\n    <div class=\"detail-container\">\n      <el-row>\n        <Warning />\n        <el-col :span=\"24\">\n          <!-- >上传控件的具体样式<-->\n          <ebook-upload\n            :file-list=\"fileList\"\n            :disabled=\"isEdit\"\n            @onSuccess=\"onUploadSuccess\"\n            @onRemove=\"onUploadRemove\"\n          />\n        </el-col>\n        <el-col :span=\"24\">\n          <el-form-item prop=\"title\">\n            <MdInput v-model=\"postForm.title\" :maxlength=\"100\" name=\"name\" required>\n              书名\n            </MdInput>\n          </el-form-item>\n          <el-row>\n            <el-col :span=\"12\">\n              <el-form-item prop=\"author\" label=\"作者：\" :label-width=\"labelWidth\">\n                <el-input\n                  v-model=\"postForm.author\"\n                  placeholder=\"作者\"\n                />\n              </el-form-item>\n\n            </el-col>\n            <el-col :span=\"12\">\n              <el-form-item prop=\"publisher\" label=\"出版社：\" :label-width=\"labelWidth\">\n                <el-input\n                  v-model=\"postForm.publisher\"\n                  placeholder=\"出版社\"\n                />\n              </el-form-item>\n            </el-col>\n\n          </el-row>\n\n          <el-row>\n            <el-col :span=\"12\">\n              <el-form-item prop=\"language\" label=\"语言：\" :label-width=\"labelWidth\">\n                <el-input\n                  v-model=\"postForm.language\"\n                  placeholder=\"语言\"\n                />\n              </el-form-item>\n\n            </el-col>\n            <el-col :span=\"12\">\n              <el-form-item prop=\"rootFile\" label=\"根文件：\" :label-width=\"labelWidth\">\n                <el-input\n                  v-model=\"postForm.rootFile\"\n                  placeholder=\"根文件\"\n                  disabled\n                />\n              </el-form-item>\n            </el-col>\n          </el-row>\n\n          <el-row>\n            <el-col :span=\"12\">\n              <el-form-item prop=\"filePath\" label=\"文件路径：\" :label-width=\"labelWidth\">\n                <el-input\n                  v-model=\"postForm.filePath\"\n                  placeholder=\"文件路径\"\n                  disabled\n                />\n              </el-form-item>\n\n            </el-col>\n            <el-col :span=\"12\">\n              <el-form-item prop=\"unzipPath\" label=\"解压路径：\" :label-width=\"labelWidth\">\n                <el-input\n                  v-model=\"postForm.unzipPath\"\n                  placeholder=\"解压路径\"\n                  disabled\n                />\n              </el-form-item>\n            </el-col>\n          </el-row>\n\n          <el-row>\n            <el-col :span=\"12\">\n              <el-form-item prop=\"coverFile\" label=\"封面路径：\" :label-width=\"labelWidth\">\n                <el-input\n                  v-model=\"postForm.coverPath\"\n                  placeholder=\"封面路径\"\n                  disabled\n                />\n              </el-form-item>\n\n            </el-col>\n            <el-col :span=\"12\">\n              <el-form-item prop=\"originalName\" label=\"文件名称：\" :label-width=\"labelWidth\">\n                <el-input\n                  v-model=\"postForm.originalName\"\n                  placeholder=\"文件名称\"\n                  disabled\n                />\n              </el-form-item>\n            </el-col>\n          </el-row>\n\n          <el-row>\n            <el-col :span=\"12\">\n              <el-form-item prop=\"cover\" label=\"封面：\" :label-width=\"labelWidth\">\n                <a v-if=\"postForm.cover\" :href=\"postForm.cover\" target=\"_blank\">\n\n                  <img :src=\"postForm.cover\" class=\"preview-img\">\n                </a>\n                <span v-else>无</span>\n              </el-form-item>\n\n            </el-col>\n          </el-row>\n        </el-col>\n\n      </el-row>\n\n      <el-row>\n        <el-col :span=\"24\">\n          <el-form-item label=\"目录：\" :label-width=\"labelWidth\">\n            <div v-if=\"contentsTree && contentsTree.length > 0\" class=\"contents-wrapper\">\n              <el-tree :data=\"contentsTree\" @node-click=\"onContentClick\" />\n            </div>\n          </el-form-item>\n        </el-col>\n      </el-row>\n\n    </div>\n  </el-form>\n</template>\n<script>\nimport Sticky from '../../../components/Sticky/index'\nimport Warning from './Warning'\nimport EbookUpload from '../../../components/EbookUpload'\nimport MdInput from '../../../components/MDinput'\nimport { createBook, getBook, updateBook } from '../../../api/book'\nconst defaultForm = {\n  title: '',\n  author: '',\n  langutage: '',\n  publisher: '',\n  rootFile: '',\n  cover: '',\n  url: '',\n  originalName: '',\n  fileName: '',\n  coverPath: '',\n  filePath: '',\n  unzipPath: ''\n}\n\n// 映射\nconst fields = {\n  title: '标题',\n  author: '作者',\n  publisher: '出版社',\n  language: '语言'\n}\n\nexport default {\n  components: { Sticky, Warning, EbookUpload, MdInput },\n  props: {\n    isEdit: Boolean\n  },\n  data() {\n    // 校验规则\n    const validateRequire = (rule, value, callback) => {\n      if (value.length === 0) {\n        callback(new Error(fields[rule.field] + '必须填写'))\n      } else {\n        callback()\n      }\n    }\n\n    return {\n      loading: false,\n      postForm: {\n        status: 'draft'\n      },\n      fileList: [],\n      labelWidth: '120px',\n      contentsTree: [],\n      // 校验规则\n      rules: {\n        title: [{ validator: validateRequire }],\n        author: [{ validator: validateRequire }],\n        language: [{ validator: validateRequire }],\n        publisher: [{ validator: validateRequire }]\n\n      }\n    }\n  },\n  created() {\n    if (this.isEdit) {\n      const fileName = this.$route.params.fileName\n      console.log(fileName)\n\n      this.getBookData(fileName)\n    }\n  },\n  methods: {\n    getBookData(fileName) {\n      getBook(fileName).then(response => {\n        this.setData(response.data)\n      })\n    },\n    setDefault() { // 置空\n      this.postForm = Object.assign({}, defaultForm)\n      this.contentsTree = []\n      this.fileList = []\n      this.$refs.postForm.resetFields()\n    },\n    onContentClick(data) {\n      // alert(data)\n      console.log(data)\n      if (data.text) {\n        window.open(data.text)\n      }\n    },\n\n    setData(data, contentsTree) {\n      // alert(data.contentsTree)\n\n      const {\n        title,\n        author,\n        language,\n        publisher,\n        rootFile,\n        cover,\n        url,\n\n        originalName,\n        contents,\n        fileName,\n        coverPath,\n        filePath,\n        unzipPath\n      } = data\n      // alert(originalName)\n      this.postForm = {\n        ...this.postForm,\n        title,\n        author,\n        language,\n\n        publisher,\n        rootFile,\n        cover,\n        url,\n        originalName,\n        contents,\n        fileName,\n        coverPath,\n        filePath,\n        unzipPath\n      }\n      // console.log('title', title)\n\n      this.contentsTree = data.contentsTree\n      this.fileList = [{ name: originalName, url }]\n    },\n    onUploadSuccess(data, contentsTree) {\n      console.log('data', data)\n\n      console.log('data', data.response.data)\n      // alert(contentsTree)\n      this.setData(data.response.data)\n    },\n    onUploadRemove() {\n      this.setDefault()\n    },\n\n    showGuide() {\n      console.log('show guide ...')\n      // alert('a')\n    },\n    /* eslint-disable */\n    submitForm() {\n      const onSuccess = (response) => {\n        const { msg } = response\n        this.$notify({\n          title: '操作成功',\n          message: msg,\n          type: 'success',\n            duration: 2000\n          })\n          this.loading = false\n      }\n\n\n      if(!this.loading) {\n\n            this.loading=true\n\n            this.$refs.postForm.validate((valid, fields) => {\n              console.log(valid, fields)\n              if(valid) {\n\n                //校验通过，提交表单\n                //表单项，浅拷贝\n                const book = Object.assign({}, this.postForm)\n                //delete book.contents\n                delete book.contentsTree\n\n                //alert(this.isEdit)\n                if(!this.isEdit) {\n                  createBook(book).then(response => {\n                    onSuccess(response)\n\n                  }).catch(() => {\n                    this.loading = false\n                  })\n\n                  //this.setDefault()\n                } else {\n                  updateBook(book).then(response =>{\n                    onSuccess(response)\n\n                  }).catch(() => {\n                    this.loading = false\n                  })\n                }\n              } else {\n                const message = fields[Object.keys(fields)[0]][0].message  //获取错误信息\n                this.$message({message, type: 'error'})   //前端展示\n              }\n\n            })\n            setTimeout(() => {\n              this.loading = false\n            }, 1000)\n      }\n\n    }\n  }\n\n}\n</script>\n<style lang=\"scss\" scoped>\n  .detail-container {\n    padding:40px 50px 20px;\n    .preview-img {\n      width: 200px;\n      height: 270px;\n    }\n  }\n</style>\n"],"sourceRoot":"src/views/book/components"}]}