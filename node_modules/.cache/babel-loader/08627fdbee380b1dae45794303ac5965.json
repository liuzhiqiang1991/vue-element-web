{"remainingRequest":"/Users/root1/Desktop/学习/vue-element-web/node_modules/babel-loader/lib/index.js!/Users/root1/Desktop/学习/vue-element-web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/root1/Desktop/学习/vue-element-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/root1/Desktop/学习/vue-element-web/src/views/district_code/components/Detail.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/root1/Desktop/学习/vue-element-web/src/views/district_code/components/Detail.vue","mtime":1621602204000},{"path":"/Users/root1/Desktop/学习/vue-element-web/node_modules/cache-loader/dist/cjs.js","mtime":1621475682000},{"path":"/Users/root1/Desktop/学习/vue-element-web/node_modules/babel-loader/lib/index.js","mtime":1621475680000},{"path":"/Users/root1/Desktop/学习/vue-element-web/node_modules/cache-loader/dist/cjs.js","mtime":1621475682000},{"path":"/Users/root1/Desktop/学习/vue-element-web/node_modules/vue-loader/lib/index.js","mtime":1621475707000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL3Jvb3QxL0Rlc2t0b3AvXHU1QjY2XHU0RTYwL3Z1ZS1lbGVtZW50LXdlYi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgU3RpY2t5IGZyb20gJy4uLy4uLy4uL2NvbXBvbmVudHMvU3RpY2t5L2luZGV4JzsKaW1wb3J0IHsgZ2V0Q29kZSB9IGZyb20gJy4uLy4uLy4uL2FwaS9kaXN0cmljdF9jb2RlJzsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIFN0aWNreTogU3RpY2t5CiAgfSwKICBwcm9wczogewogICAgaXNFZGl0OiBCb29sZWFuCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIHBvc3RGb3JtOiB7CiAgICAgICAgY29kZTogJ2NvZGUnLAogICAgICAgIG5hbWU6ICduYW1lJywKICAgICAgICBwYXJlbnQ6ICdwYXJlbnQnLAogICAgICAgIGNvZGVfbGV2ZWw6ICdjb2RlX2xldmVsJwogICAgICB9LAogICAgICBsYWJlbFdpZHRoOiAnMTIwcHgnCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIGlmICh0aGlzLmlzRWRpdCkgewogICAgICB2YXIgY29kZSA9IHRoaXMuJHJvdXRlLnBhcmFtcy5jb2RlOwogICAgICB0aGlzLmdldENvZGVEYXRhKGNvZGUpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgZ2V0Q29kZURhdGE6IGZ1bmN0aW9uIGdldENvZGVEYXRhKGNvZGUpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGdldENvZGUoY29kZSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpcy5zZXREYXRhKHJlc3BvbnNlLmRhdGEpOwogICAgICB9KTsKICAgIH0sCiAgICBzZXREYXRhOiBmdW5jdGlvbiBzZXREYXRhKGRhdGEpIHsKICAgICAgdmFyIGNvZGUgPSBkYXRhLmNvZGUsCiAgICAgICAgICBuYW1lID0gZGF0YS5uYW1lLAogICAgICAgICAgcGFyZW50ID0gZGF0YS5wYXJlbnQsCiAgICAgICAgICBjb2RlX2xldmVsID0gZGF0YS5jb2RlX2xldmVsOwogICAgICB0aGlzLnBvc3RGb3JtID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCB0aGlzLnBvc3RGb3JtKSwge30sIHsKICAgICAgICBjb2RlOiBjb2RlLAogICAgICAgIG5hbWU6IG5hbWUsCiAgICAgICAgcGFyZW50OiBwYXJlbnQsCiAgICAgICAgY29kZV9sZXZlbDogY29kZV9sZXZlbAogICAgICB9KTsKICAgIH0sCiAgICBzaG93R3VpZGU6IGZ1bmN0aW9uIHNob3dHdWlkZSgpIHsKICAgICAgYWxlcnQoJ+aYvuekuuW4ruWKqScpOwogICAgfSwKICAgIHN1Ym1pdEZvcm06IGZ1bmN0aW9uIHN1Ym1pdEZvcm0oKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgLy8gYWxlcnQodGhpcy5pc0VkaXQpCiAgICAgIGlmICghdGhpcy5pc0VkaXQpIHsKICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnZGlzdHJpY3RfY29kZS9hZGQnLCB0aGlzLnBvc3RGb3JtKS50aGVuKGZ1bmN0aW9uIChtc2cpIHsKICAgICAgICAgIF90aGlzMi4kbm90aWZ5KHsKICAgICAgICAgICAgdGl0bGU6ICfmk43kvZzmiJDlip8nLAogICAgICAgICAgICBtZXNzYWdlOiBtc2cuZGF0YSwKICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgICAgICBkdXJhdGlvbjogMjAwMAogICAgICAgICAgfSk7CgogICAgICAgICAgX3RoaXMyLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgX3RoaXMyLiRub3RpZnkoewogICAgICAgICAgICB0aXRsZTogJ+aWsOWinue8lueggeWksei0pScsCiAgICAgICAgICAgIG1lc3NhZ2U6IGUsCiAgICAgICAgICAgIHR5cGU6ICdmYWlsJywKICAgICAgICAgICAgZHVyYXRpb246IDIwMDAKICAgICAgICAgIH0pOwoKICAgICAgICAgIF90aGlzMi5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2Rpc3RyaWN0X2NvZGUvdXBkYXRlJywgdGhpcy5wb3N0Rm9ybSkudGhlbihmdW5jdGlvbiAobXNnKSB7CiAgICAgICAgICBfdGhpczIuJG5vdGlmeSh7CiAgICAgICAgICAgIHRpdGxlOiAn5pON5L2c5oiQ5YqfJywKICAgICAgICAgICAgbWVzc2FnZTogbXNnLmRhdGEsCiAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgICAgZHVyYXRpb246IDIwMDAKICAgICAgICAgIH0pOwoKICAgICAgICAgIF90aGlzMi5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIF90aGlzMi4kbm90aWZ5KHsKICAgICAgICAgICAgdGl0bGU6ICfnvJbovpHnvJbnoIHlpLHotKUnLAogICAgICAgICAgICBtZXNzYWdlOiBlLAogICAgICAgICAgICB0eXBlOiAnZmFpbCcsCiAgICAgICAgICAgIGR1cmF0aW9uOiAyMDAwCiAgICAgICAgICB9KTsgLy8gYWxlcnQoJ3VuZmluaXNoJykKCgogICAgICAgICAgX3RoaXMyLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICB9KTsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"sources":["Detail.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <el-form ref=\"postForm\" :model=\"postForm\">\n\n    <sticky :class-name=\"'sub-navbar'\">\n      <el-button v-if=\"!isEdit\" @click=\"showGuide\">显示帮助</el-button>\n      <el-button\n        v-loading=\"loading\"\n        type=\"success\"\n        style=\"margin-left: 5 0px\"\n        @click=\"submitForm\"\n      >{{ isEdit ? '编辑' : '新增' }}</el-button>\n    </sticky>\n\n    <div class=\"detail-container\">\n      <el-row>\n        <el-col :span=\"24\">\n          <el-row>\n            <el-col :span=\"12\">\n              <el-form-item prop=\"code\" label=\"编码：\" :label-width=\"labelWidth\">\n                <el-input\n                  v-model=\"postForm.code\"\n                  placeholder=\"编码\"\n                />\n              </el-form-item>\n            </el-col>\n            <el-col :span=\"12\">\n              <el-form-item prop=\"name\" label=\"行政区名称：\" :label-width=\"labelWidth\">\n                <el-input\n                  v-model=\"postForm.name\"\n                  placeholder=\"行政区名称\"\n                />\n              </el-form-item>\n            </el-col>\n\n          </el-row>\n\n          <el-row>\n            <el-col :span=\"12\">\n              <el-form-item prop=\"parent\" label=\"parent：\" :label-width=\"labelWidth\">\n                <el-input\n                  v-model=\"postForm.parent\"\n                  placeholder=\"parent编码\"\n                />\n              </el-form-item>\n            </el-col>\n\n            <el-col :span=\"12\">\n              <el-form-item prop=\"code_level\" label=\"编码层级：\" :label-width=\"labelWidth\">\n                <el-input\n                  v-model=\"postForm.code_level\"\n                  placeholder=\"编码层级\"\n                />\n              </el-form-item>\n            </el-col>\n          </el-row>\n\n        </el-col>\n      </el-row>\n    </div>\n  </el-form>\n</template>\n\n<script>\nimport Sticky from '../../../components/Sticky/index'\nimport { getCode } from '../../../api/district_code'\n\nexport default {\n  components: { Sticky },\n  props: {\n\n    isEdit: Boolean\n  },\n  data() {\n    return {\n\n      loading: false,\n      postForm: {\n        code: 'code',\n        name: 'name',\n        parent: 'parent',\n        code_level: 'code_level'\n      },\n      labelWidth: '120px'\n    }\n  },\n  created() {\n    if (this.isEdit) {\n      const code = this.$route.params.code\n      this.getCodeData(code)\n    }\n\n  },\n  methods: {\n    getCodeData(code) {\n      getCode(code).then(response => {\n        this.setData(response.data)\n      })\n    },\n    setData(data) {\n      const {\n        code,\n        name,\n        parent,\n        code_level\n\n      } = data\n      this.postForm = {\n        ...this.postForm,\n        code,\n        name,\n        parent,\n        code_level\n\n      }\n    },\n    showGuide() {\n      alert('显示帮助')\n    },\n    submitForm() {\n      // alert(this.isEdit)\n      if (!this.isEdit) {\n        this.$store.dispatch('district_code/add', this.postForm)\n          .then((msg) => {\n            this.$notify({\n              title: '操作成功',\n              message: msg.data,\n              type: 'success',\n              duration: 2000\n            })\n            this.loading = false\n          }).catch((e) => {\n            this.$notify({\n              title: '新增编码失败',\n              message: e,\n              type: 'fail',\n              duration: 2000\n            })\n            this.loading = false\n          })\n      } else {\n        this.$store.dispatch('district_code/update', this.postForm)\n          .then((msg) => {\n            this.$notify({\n              title: '操作成功',\n              message: msg.data,\n              type: 'success',\n              duration: 2000\n            })\n            this.loading = false\n          }).catch((e) => {\n            this.$notify({\n              title: '编辑编码失败',\n              message: e,\n              type: 'fail',\n              duration: 2000\n            })\n            // alert('unfinish')\n            this.loading = false\n          })\n      }\n    }\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n  .detail-container {\n    padding:40px 50px 20px;\n    .preview-img {\n      width: 200px;\n      height: 270px;\n    }\n  }\n</style>\n"],"sourceRoot":"src/views/district_code/components"}]}